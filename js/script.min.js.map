{"version":3,"sources":["script.js"],"names":["document","addEventListener","modal","querySelector","btnOpenModal","querySelectorAll","btnCloseModal","openCloseModal","classList","toggle","overlay","contains","body","style","overflow","forEach","btn","ev","target","code","promoBtn","emailInput","value","alert","numberGoods","priceForm","totalPrice","checkbox","basePrice","count","updatePrice","textContent","productNumbers","concat","btnAddToCart","countsAndNumberOfGoods","btnRemoveFromCart","submitProduct","btnSubmit","preventDefault","checked","window","location","href"],"mappings":"aAAAA,SAASC,iBAAiB,mBAAoB,WAE1C,IAAAC,EAAAF,SAAAG,cAAA,UACMD,EAAiBC,SAAAA,iBAAvB,gBACIC,EAAeJ,SAASK,cAAiB,gBACzCC,EAAAA,SAAgBN,cAASG,YAG7B,SAASI,IAATL,EAASK,UAAAA,OAAiB,QACtBL,EAAMM,UAANC,OAAA,QACAC,EAAQF,UAAUC,OAAO,QACnBD,EAAAA,UAAiBG,SAAvB,QAEIX,SAASY,KAAKC,MAAMC,SAAW,SAA/Bd,SAAca,KAAMC,MAAAA,SAAW,GAItCV,EAAAW,QAAA,SAAAC,GAGGA,EAAIf,iBAAiB,QAASM,KADlCD,EAAAL,iBAAA,QAAAM,GAMAG,EAAQT,iBAAiB,QAAS,SAAAgB,GACvBC,EAAAA,SAAWR,GACdH,MAKJP,SAAOmB,iBAAH,UAA8BX,SAAAA,GAChB,WAAdD,EAAAA,MAAcL,EAAAM,UAAAG,SAAA,SACjBJ,MAOLa,IAAQC,EAACpB,SAAiBE,cAAS,UAChBmB,SAAXnB,cAAyB,cAEtBF,iBAAA,QAAA,WACH,KAAMoB,EAAAC,MACTC,MAAA,sBADGA,MAAM,uBAKd,IAIIC,EAAcxB,SAASG,cAAc,oBACrCsB,EAAqBtB,SAAAA,cAAc,qBACnCuB,EAAa1B,SAASG,cAAc,eACpCwB,EAAmB3B,SAACG,cAAc,2BAClCyB,EARJ5B,SAAAG,cAAA,uBAUI0B,EAAJ7B,SAAAG,cAAA,iBAJIuB,EAAa1B,SAASG,cAAc,sBAOxCwB,EAASG,SAAc3B,cAAA,gBACnBsB,EAAUM,KAEbF,EAAA,EAIGG,SAAAA,IAEH,OADGR,EAAYO,YAAZH,EACH,GAAAK,OAAAL,EAAAC,EAAA,KAIOK,SAAAA,IACIL,EAAKE,YAAAF,EACLM,EAAAA,YAAAA,WAAAA,OAAsBN,EAAtBM,KA0BZL,IAtBiB,EAALD,IACAM,EAAAA,iBAAsB,QAAA,WANtBN,IAOIA,IACKH,EAALK,YAAAD,MAEHM,EAAAnC,iBAAA,QAAA,WALD4B,IAMAH,IAPJG,GAAA,IASHA,EAAA,EACJM,KAEQE,EAAgBN,YAAAD,OAGjBQ,EAEOrC,iBAAA,QAAA,SAAAgB,GACHM,EAAMgB,iBACTZ,EAAAa,QANLC,OAAAC,SAAAC,KAAA,8CAKQpB,MAAM","file":"script.min.js","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\r\n\r\n    // modal open/close functionality\r\n    const modal = document.querySelector('.modal'),\r\n        btnOpenModal = document.querySelectorAll('[data-modal]'),\r\n        btnCloseModal = document.querySelector('[data-close]'),\r\n        overlay = document.querySelector('.overlay');\r\n\r\n    function openCloseModal() {\r\n        modal.classList.toggle('show');\r\n        overlay.classList.toggle('show');\r\n        modal.classList.toggle('fade');\r\n        if (modal.classList.contains('show')) {\r\n            document.body.style.overflow = 'hidden';\r\n        } else {\r\n            document.body.style.overflow = '';\r\n        }\r\n    }\r\n\r\n    btnOpenModal.forEach(btn => {\r\n        btn.addEventListener('click', openCloseModal);   \r\n    });\r\n\r\n    btnCloseModal.addEventListener('click', openCloseModal);\r\n\r\n    overlay.addEventListener('click', (ev) => {\r\n        if (ev.target === overlay) {\r\n            openCloseModal();\r\n        }\r\n    });\r\n\r\n    document.addEventListener('keydown', (ev) => {\r\n        if (ev.code === 'Escape' && modal.classList.contains('show')) {\r\n            openCloseModal();\r\n        }\r\n    });\r\n\r\n    // email promo validation\r\n    const emailInput = document.querySelector('#email'),\r\n        promoBtn = document.querySelector('.btn-promo');\r\n\r\n    promoBtn.addEventListener('click', () => {\r\n        if (emailInput.value === '') {\r\n            alert('Введите ваш E-mail');\r\n        } else {\r\n            alert('Промокод добавлен');\r\n        }\r\n    });\r\n\r\n    // order functionality\r\n    const btnAddToCart = document.querySelector('.btn__round-plus'),\r\n        btnRemoveFromCart = document.querySelector('.btn__round-minus'),\r\n        btnSubmit = document.querySelector('.btn-submit'),\r\n        productNumbers = document.querySelector('.modal__product-numbers'),\r\n        numberGoods = document.querySelector('.modal__numbergoods'),\r\n        priceForm = document.querySelector('.modal__price'),\r\n        totalPrice = document.querySelector('.modal__totalprice'),\r\n        checkbox = document.querySelector('#checkoffert'),\r\n        basePrice = 1790;\r\n\r\n    let count = 1;\r\n\r\n\r\n    function updatePrice() {\r\n        priceForm.textContent = basePrice;\r\n        return `${basePrice * count}₽`;\r\n    }\r\n\r\n\r\n    function countsAndNumberOfGoods() {\r\n        productNumbers.textContent = count;\r\n        numberGoods.textContent = `Товары (${count})`;\r\n    }\r\n\r\n    function addAndRemoveCard() {\r\n        if (count > 0) {\r\n            btnAddToCart.addEventListener('click', () => {\r\n                count++;\r\n                countsAndNumberOfGoods();\r\n                totalPrice.textContent = updatePrice();           \r\n            });\r\n            btnRemoveFromCart.addEventListener('click', () => {\r\n                count--;\r\n                countsAndNumberOfGoods()\r\n                if (count <= 0) {\r\n                    count = 1;\r\n                    countsAndNumberOfGoods();\r\n                }\r\n                totalPrice.textContent = updatePrice(); \r\n            });\r\n        }\r\n    }\r\n\r\n    function submitProduct() {\r\n        btnSubmit.addEventListener('click', (ev) => {\r\n            ev.preventDefault();\r\n            if (checkbox.checked) {\r\n                    window.location.href = 'https://www.youtube.com/watch?v=dQw4w9WgXcQ';\r\n            } else {\r\n                alert('Согласитесь с условиями');\r\n            }\r\n        });\r\n    }\r\n\r\n    updatePrice();\r\n    addAndRemoveCard();\r\n    submitProduct();\r\n\r\n});"]}