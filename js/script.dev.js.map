{"version":3,"sources":["script.js"],"names":["document","addEventListener","modal","querySelector","btnOpenModal","querySelectorAll","btnCloseModal","overlay","openCloseModal","classList","toggle","contains","body","style","overflow","forEach","btn","ev","target","code","emailInput","promoBtn","value","alert","btnAddToCart","btnRemoveFromCart","btnSubmit","productNumbers","numberGoods","priceForm","totalPrice","checkbox","basePrice","count","updatePrice","textContent","countsAndNumberOfGoods","addAndRemoveCard","submitProduct","preventDefault","checked","window","location","href"],"mappings":"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","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\r\n\r\n    // modal open/close functionality\r\n    const modal = document.querySelector('.modal'),\r\n        btnOpenModal = document.querySelectorAll('[data-modal]'),\r\n        btnCloseModal = document.querySelector('[data-close]'),\r\n        overlay = document.querySelector('.overlay');\r\n\r\n    function openCloseModal() {\r\n        modal.classList.toggle('show');\r\n        overlay.classList.toggle('show');\r\n        modal.classList.toggle('fade');\r\n        if (modal.classList.contains('show')) {\r\n            document.body.style.overflow = 'hidden';\r\n        } else {\r\n            document.body.style.overflow = '';\r\n        }\r\n    }\r\n\r\n    btnOpenModal.forEach(btn => {\r\n        btn.addEventListener('click', openCloseModal);   \r\n    });\r\n\r\n    btnCloseModal.addEventListener('click', openCloseModal);\r\n\r\n    overlay.addEventListener('click', (ev) => {\r\n        if (ev.target === overlay) {\r\n            openCloseModal();\r\n        }\r\n    });\r\n\r\n    document.addEventListener('keydown', (ev) => {\r\n        if (ev.code === 'Escape' && modal.classList.contains('show')) {\r\n            openCloseModal();\r\n        }\r\n    });\r\n\r\n    // email promo validation\r\n    const emailInput = document.querySelector('#email'),\r\n        promoBtn = document.querySelector('.btn-promo');\r\n\r\n    promoBtn.addEventListener('click', () => {\r\n        if (emailInput.value === '') {\r\n            alert('Введите ваш E-mail');\r\n        } else {\r\n            alert('Промокод добавлен');\r\n        }\r\n    });\r\n\r\n    // order functionality\r\n    const btnAddToCart = document.querySelector('.btn__round-plus'),\r\n        btnRemoveFromCart = document.querySelector('.btn__round-minus'),\r\n        btnSubmit = document.querySelector('.btn-submit'),\r\n        productNumbers = document.querySelector('.modal__product-numbers'),\r\n        numberGoods = document.querySelector('.modal__numbergoods'),\r\n        priceForm = document.querySelector('.modal__price'),\r\n        totalPrice = document.querySelector('.modal__totalprice'),\r\n        checkbox = document.querySelector('#checkoffert'),\r\n        basePrice = 1790;\r\n\r\n    let count = 1;\r\n\r\n\r\n    function updatePrice() {\r\n        priceForm.textContent = basePrice;\r\n        return `${basePrice * count}₽`;\r\n    }\r\n\r\n\r\n    function countsAndNumberOfGoods() {\r\n        productNumbers.textContent = count;\r\n        numberGoods.textContent = `Товары (${count})`;\r\n    }\r\n\r\n    function addAndRemoveCard() {\r\n        if (count > 0) {\r\n            btnAddToCart.addEventListener('click', () => {\r\n                count++;\r\n                countsAndNumberOfGoods();\r\n                totalPrice.textContent = updatePrice();           \r\n            });\r\n            btnRemoveFromCart.addEventListener('click', () => {\r\n                count--;\r\n                countsAndNumberOfGoods()\r\n                if (count <= 0) {\r\n                    count = 1;\r\n                    countsAndNumberOfGoods();\r\n                }\r\n                totalPrice.textContent = updatePrice(); \r\n            });\r\n        }\r\n    }\r\n\r\n    function submitProduct() {\r\n        btnSubmit.addEventListener('click', (ev) => {\r\n            ev.preventDefault();\r\n            if (checkbox.checked) {\r\n                    window.location.href = 'https://www.youtube.com/watch?v=dQw4w9WgXcQ';\r\n            } else {\r\n                alert('Согласитесь с условиями');\r\n            }\r\n        });\r\n    }\r\n\r\n    updatePrice();\r\n    addAndRemoveCard();\r\n    submitProduct();\r\n\r\n});"],"file":"script.dev.js"}